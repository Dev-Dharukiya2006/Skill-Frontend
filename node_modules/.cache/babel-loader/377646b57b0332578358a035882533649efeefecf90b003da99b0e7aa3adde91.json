{"ast":null,"code":"var _jsxFileName = \"E:\\\\Projects\\\\SkillPath AI\\\\frontend\\\\src\\\\context\\\\RoadmapContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport axios from 'axios';\nimport toast from 'react-hot-toast';\nimport { useAuth } from './AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RoadmapContext = /*#__PURE__*/createContext();\nexport const useRoadmap = () => {\n  _s();\n  const context = useContext(RoadmapContext);\n  if (!context) {\n    throw new Error('useRoadmap must be used within a RoadmapProvider');\n  }\n  return context;\n};\n_s(useRoadmap, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const RoadmapProvider = ({\n  children\n}) => {\n  _s2();\n  const [roadmap, setRoadmap] = useState(null);\n  const [currentWeek, setCurrentWeek] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const {\n    isAuthenticated\n  } = useAuth();\n  useEffect(() => {\n    if (isAuthenticated) {\n      fetchRoadmap();\n    }\n  }, [isAuthenticated]);\n  const fetchRoadmap = async () => {\n    try {\n      setLoading(true);\n      const response = await axios.get('/api/roadmaps');\n      setRoadmap(response.data.data);\n    } catch (error) {\n      var _error$response;\n      if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) !== 404) {\n        console.error('Failed to fetch roadmap:', error);\n      }\n      setRoadmap(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchCurrentWeek = async () => {\n    try {\n      const response = await axios.get('/api/roadmaps/current-week');\n      setCurrentWeek(response.data.data);\n    } catch (error) {\n      console.error('Failed to fetch current week:', error);\n    }\n  };\n  const createRoadmap = async targetRole => {\n    try {\n      setLoading(true);\n      const response = await axios.post('/api/roadmaps', {\n        targetRole\n      });\n      setRoadmap(response.data.data);\n      toast.success('Roadmap generated successfully!');\n      return {\n        success: true\n      };\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      const message = ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'Failed to create roadmap';\n      toast.error(message);\n      return {\n        success: false,\n        message\n      };\n    } finally {\n      setLoading(false);\n    }\n  };\n  const updateTaskCompletion = async (weekId, taskId, completed) => {\n    try {\n      const response = await axios.put(`/api/roadmaps/tasks/${weekId}/${taskId}`, {\n        completed\n      });\n      setRoadmap(response.data.data);\n      toast.success(completed ? 'Task completed!' : 'Task marked incomplete');\n      return {\n        success: true\n      };\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      const message = ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || 'Failed to update task';\n      toast.error(message);\n      return {\n        success: false,\n        message\n      };\n    }\n  };\n  const deleteRoadmap = async () => {\n    try {\n      await axios.delete('/api/roadmaps');\n      setRoadmap(null);\n      setCurrentWeek(null);\n      toast.success('Roadmap deleted successfully');\n      return {\n        success: true\n      };\n    } catch (error) {\n      var _error$response4, _error$response4$data;\n      const message = ((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.message) || 'Failed to delete roadmap';\n      toast.error(message);\n      return {\n        success: false,\n        message\n      };\n    }\n  };\n  const value = {\n    roadmap,\n    currentWeek,\n    loading,\n    fetchRoadmap,\n    fetchCurrentWeek,\n    createRoadmap,\n    updateTaskCompletion,\n    deleteRoadmap\n  };\n  return /*#__PURE__*/_jsxDEV(RoadmapContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 5\n  }, this);\n};\n_s2(RoadmapProvider, \"LLsohwZxAtNAViOVL4BbHH1LN/U=\", false, function () {\n  return [useAuth];\n});\n_c = RoadmapProvider;\nvar _c;\n$RefreshReg$(_c, \"RoadmapProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","axios","toast","useAuth","jsxDEV","_jsxDEV","RoadmapContext","useRoadmap","_s","context","Error","RoadmapProvider","children","_s2","roadmap","setRoadmap","currentWeek","setCurrentWeek","loading","setLoading","isAuthenticated","fetchRoadmap","response","get","data","error","_error$response","status","console","fetchCurrentWeek","createRoadmap","targetRole","post","success","_error$response2","_error$response2$data","message","updateTaskCompletion","weekId","taskId","completed","put","_error$response3","_error$response3$data","deleteRoadmap","delete","_error$response4","_error$response4$data","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["E:/Projects/SkillPath AI/frontend/src/context/RoadmapContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\nimport axios from 'axios';\nimport toast from 'react-hot-toast';\nimport { useAuth } from './AuthContext';\n\nconst RoadmapContext = createContext();\n\nexport const useRoadmap = () => {\n  const context = useContext(RoadmapContext);\n  if (!context) {\n    throw new Error('useRoadmap must be used within a RoadmapProvider');\n  }\n  return context;\n};\n\nexport const RoadmapProvider = ({ children }) => {\n  const [roadmap, setRoadmap] = useState(null);\n  const [currentWeek, setCurrentWeek] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const { isAuthenticated } = useAuth();\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      fetchRoadmap();\n    }\n  }, [isAuthenticated]);\n\n  const fetchRoadmap = async () => {\n    try {\n      setLoading(true);\n      const response = await axios.get('/api/roadmaps');\n      setRoadmap(response.data.data);\n    } catch (error) {\n      if (error.response?.status !== 404) {\n        console.error('Failed to fetch roadmap:', error);\n      }\n      setRoadmap(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchCurrentWeek = async () => {\n    try {\n      const response = await axios.get('/api/roadmaps/current-week');\n      setCurrentWeek(response.data.data);\n    } catch (error) {\n      console.error('Failed to fetch current week:', error);\n    }\n  };\n\n  const createRoadmap = async (targetRole) => {\n    try {\n      setLoading(true);\n      const response = await axios.post('/api/roadmaps', { targetRole });\n      setRoadmap(response.data.data);\n      toast.success('Roadmap generated successfully!');\n      return { success: true };\n    } catch (error) {\n      const message = error.response?.data?.message || 'Failed to create roadmap';\n      toast.error(message);\n      return { success: false, message };\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const updateTaskCompletion = async (weekId, taskId, completed) => {\n    try {\n      const response = await axios.put(\n        `/api/roadmaps/tasks/${weekId}/${taskId}`,\n        { completed }\n      );\n      setRoadmap(response.data.data);\n      toast.success(completed ? 'Task completed!' : 'Task marked incomplete');\n      return { success: true };\n    } catch (error) {\n      const message = error.response?.data?.message || 'Failed to update task';\n      toast.error(message);\n      return { success: false, message };\n    }\n  };\n\n  const deleteRoadmap = async () => {\n    try {\n      await axios.delete('/api/roadmaps');\n      setRoadmap(null);\n      setCurrentWeek(null);\n      toast.success('Roadmap deleted successfully');\n      return { success: true };\n    } catch (error) {\n      const message = error.response?.data?.message || 'Failed to delete roadmap';\n      toast.error(message);\n      return { success: false, message };\n    }\n  };\n\n  const value = {\n    roadmap,\n    currentWeek,\n    loading,\n    fetchRoadmap,\n    fetchCurrentWeek,\n    createRoadmap,\n    updateTaskCompletion,\n    deleteRoadmap\n  };\n\n  return (\n    <RoadmapContext.Provider value={value}>\n      {children}\n    </RoadmapContext.Provider>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}